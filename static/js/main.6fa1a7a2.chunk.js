(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{22:function(t,e,n){t.exports=n(60)},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(2),r=n.n(i),s=n(5),c=n(6),l=n(8),u=n(7),p=n(9),h=n(10),m=n(12),g=n.n(m),d={position:"absolute",width:"100%",height:"100%"},v=function(t){function e(t){var n;Object(s.a)(this,e);var a=(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).props.initialCenter,o=a.lat,i=a.lng;return n.state={currentLocation:{lat:o,lng:i}},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t,e){t.google!==this.props.google&&this.loadMap(),e.currentLocation!==this.props.state.currentLocation&&this.recenterMap()}},{key:"componentDidMount",value:function(){var t=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var n=e.coords;t.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})})),this.loadMap()}},{key:"recenterMap",value:function(){var t=this.map;if(this.props.state.currentLocation){var e=this.props.state.currentLocation,n=this.props.google.maps;if(t){var a=new n.LatLng(e.lat,e.lng);t.panTo(a)}}}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var t=this.props.google,e=t.maps,n=this.refs.map,a=r.a.findDOMNode(n),o=this.props.zoom,i=this.state.currentLocation,s=i.lat,c=i.lng,l=new e.LatLng(s,c),u=Object.assign({},{center:l,zoom:o});this.map=new e.Map(a,u),t.maps.event.addListener(this.map,"click",this.props.moveMarker)}}},{key:"renderChildren",value:function(){var t=this,e=this.props.children;if(e)return o.a.Children.map(e,(function(e){if(e&&t.props.state.currentLocation)return o.a.cloneElement(e,{map:t.map,google:t.props.google,mapCenter:t.props.state.currentLocation,position:t.props.state.currentLocation})}))}},{key:"render",value:function(){var t=Object.assign({},d);return o.a.createElement("div",null,o.a.createElement("div",{style:t,ref:"map"},"Loading map..."),this.renderChildren())}}]),e}(o.a.Component),f=v;v.defaultProps={zoom:5,initialCenter:{lat:44.450622,lng:26.114591},centerAroundCurrentLocation:!0,visible:!0};n(59);var k=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).moveMarker=function(t){n.setState({currentLocation:{lat:t.latLng.lat(),lng:t.latLng.lng()},showingInfoWindow:!1}),n.checkTimeZone(t.latLng.lat(),t.latLng.lng())},n.onMarkerClick=function(t,e,a){n.setState({selectedPlace:t,activeMarker:e,showingInfoWindow:!0})},n.onClose=function(){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.state={showingInfoWindow:!0,dayStatus:"",activeMarker:{},selectedPlace:{},countryName:""},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"checkTimeZone",value:function(t,e){var n=this;g.a.get("https://api.timezonedb.com/v2.1/get-time-zone?key=6F6YBU30VGBM&format=json&by=position&lat="+t+"&lng="+e,{mode:"no-cors"}).then((function(a){console.log("checkTimeZone response->",a.data),n.setState({countryName:a.data.countryName,localTimeStamp:a.data.timestamp}),a.data.timestamp&&n.checkDayLimit(t,e,a.data.timestamp)})).catch((function(t){console.log(t)}))}},{key:"checkDayLimit",value:function(t,e,n){var a=this;g.a.get("https://api.sunrise-sunset.org/json?lat="+t+"&lng="+e+"&formatted=0",{mode:"no-cors"}).then((function(t){console.log("checkTimeZone response->",t.data);var e=new Date(t.data.results.sunrise).getTime()/1e3,o=new Date(t.data.results.sunset).getTime()/1e3;e<n&&n<o?a.setState({dayStatus:"Daylight"}):a.setState({dayStatus:"Night"})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return o.a.createElement(f,{centerAroundCurrentLocation:!0,google:this.props.google,moveMarker:this.moveMarker,state:this.state},o.a.createElement(h.Marker,{onClick:this.onMarkerClick}),o.a.createElement(h.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},o.a.createElement("div",null,o.a.createElement("h2",null,""===this.state.countryName?"Loading...":this.state.countryName),o.a.createElement("h4",null,""===this.state.dayStatus?"Loading...":this.state.dayStatus))))}}]),e}(o.a.Component),y=Object(h.GoogleApiWrapper)({apiKey:"AIzaSyA2sDQZ-36NLlY4iMvoiuQ7mS1n-v8iq2M"})(k);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.6fa1a7a2.chunk.js.map